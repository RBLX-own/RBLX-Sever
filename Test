-- Combined Script: Telegram Link Window + Private Server Creator
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local tweenService = game:GetService("TweenService")
local userInputService = game:GetService("UserInputService")

-- Create main ScreenGui
local mainGui = Instance.new("ScreenGui")
mainGui.Name = "CombinedWindowsGUI"
mainGui.ResetOnSpawn = false
mainGui.Parent = player.PlayerGui

-- SCRIPT 1: TELEGRAM LINK WINDOW
local telegramFrame = Instance.new("Frame")
telegramFrame.Size = UDim2.new(0, 400, 0, 250)
telegramFrame.Position = UDim2.new(0.5, -200, 0.5, -125)
telegramFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
telegramFrame.BorderSizePixel = 0
telegramFrame.AnchorPoint = Vector2.new(0.5, 0.5)
telegramFrame.Active = true
telegramFrame.Draggable = true
telegramFrame.ZIndex = 5
telegramFrame.Visible = true
telegramFrame.Parent = mainGui

local telegramCorner = Instance.new("UICorner")
telegramCorner.CornerRadius = UDim.new(0, 12)
telegramCorner.Parent = telegramFrame

-- Telegram content
local titleText = Instance.new("TextLabel")
titleText.Size = UDim2.new(1, 0, 0, 30)
titleText.Position = UDim2.new(0, 0, 0.2, -30)
titleText.BackgroundTransparency = 1
titleText.Text = "Click The Link to Copy"
titleText.TextColor3 = Color3.fromRGB(255, 255, 255)
titleText.Font = Enum.Font.SourceSansBold
titleText.TextSize = 20
titleText.TextXAlignment = Enum.TextXAlignment.Center
titleText.ZIndex = 6
titleText.Parent = telegramFrame

local whiteFrame = Instance.new("Frame")
whiteFrame.Size = UDim2.new(0.8, 0, 0, 40)
whiteFrame.Position = UDim2.new(0.1, 0, 0.3, 0)
whiteFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
whiteFrame.BorderSizePixel = 0
whiteFrame.ZIndex = 6
whiteFrame.Parent = telegramFrame

local whiteCorner = Instance.new("UICorner")
whiteCorner.CornerRadius = UDim.new(0, 8)
whiteCorner.Parent = whiteFrame

local linkText = Instance.new("TextButton")
linkText.Size = UDim2.new(1, 0, 1, 0)
linkText.BackgroundTransparency = 1
linkText.Text = "t.me/RBLX_SCRIPTS_MYANMAR"
linkText.TextColor3 = Color3.fromRGB(0, 102, 255)
linkText.Font = Enum.Font.SourceSansBold
linkText.TextSize = 20
linkText.ZIndex = 7
linkText.Parent = whiteFrame

local infoText = Instance.new("TextLabel")
infoText.Size = UDim2.new(1, 0, 0, 40)
infoText.Position = UDim2.new(0, 0, 0.55, 0)
infoText.BackgroundTransparency = 1
infoText.Text = "More Scripts On Telegram"
infoText.TextColor3 = Color3.fromRGB(255, 255, 255)
infoText.Font = Enum.Font.SourceSans
infoText.TextSize = 18
infoText.ZIndex = 6
infoText.Parent = telegramFrame

local telegramCloseBtn = Instance.new("TextButton")
telegramCloseBtn.Size = UDim2.new(0, 60, 0, 30)
telegramCloseBtn.Position = UDim2.new(1, -70, 1, -40)
telegramCloseBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
telegramCloseBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
telegramCloseBtn.Text = "OK"
telegramCloseBtn.Font = Enum.Font.SourceSansBold
telegramCloseBtn.TextSize = 16
telegramCloseBtn.ZIndex = 6
telegramCloseBtn.Parent = telegramFrame

local okCorner = Instance.new("UICorner")
okCorner.CornerRadius = UDim.new(0, 6)
okCorner.Parent = telegramCloseBtn

-- SCRIPT 2: PRIVATE SERVER WINDOW
local serverFrame = Instance.new("Frame")
serverFrame.Name = "PrivateServerFrame"
serverFrame.Size = UDim2.new(0, 350, 0, 200)
serverFrame.Position = UDim2.new(0.5, -175, 0.5, -100)
serverFrame.BackgroundColor3 = Color3.new(0.15, 0.15, 0.2)
serverFrame.BorderSizePixel = 0
serverFrame.ClipsDescendants = true
serverFrame.ZIndex = 10
serverFrame.Visible = false
serverFrame.Parent = mainGui

local serverCorner = Instance.new("UICorner")
serverCorner.CornerRadius = UDim.new(0, 12)
serverCorner.Parent = serverFrame

-- Title Bar for server window
local serverTitleBar = Instance.new("Frame")
serverTitleBar.Name = "TitleBar"
serverTitleBar.Size = UDim2.new(1, 0, 0, 35)
serverTitleBar.Position = UDim2.new(0, 0, 0, 0)
serverTitleBar.BackgroundColor3 = Color3.new(0.25, 0.25, 0.35)
serverTitleBar.BorderSizePixel = 0
serverTitleBar.Active = true
serverTitleBar.ZIndex = 11
serverTitleBar.Parent = serverFrame

local serverTitleCorner = Instance.new("UICorner")
serverTitleCorner.CornerRadius = UDim.new(0, 12)
serverTitleCorner.Parent = serverTitleBar

-- Title Text for server window
local serverTitleText = Instance.new("TextLabel")
serverTitleText.Name = "Title"
serverTitleText.Size = UDim2.new(0, 200, 1, 0)
serverTitleText.Position = UDim2.new(0, 15, 0, 0)
serverTitleText.BackgroundTransparency = 1
serverTitleText.Text = "PRIVATE SERVER CREATOR"
serverTitleText.TextColor3 = Color3.new(1, 1, 1)
serverTitleText.TextSize = 14
serverTitleText.Font = Enum.Font.GothamBold
serverTitleText.TextXAlignment = Enum.TextXAlignment.Left
serverTitleText.ZIndex = 12
serverTitleText.Parent = serverTitleBar

-- Close Button for server window
local serverCloseButton = Instance.new("TextButton")
serverCloseButton.Name = "CloseButton"
serverCloseButton.Size = UDim2.new(0, 25, 0, 25)
serverCloseButton.Position = UDim2.new(1, -30, 0, 5)
serverCloseButton.BackgroundColor3 = Color3.new(0.9, 0.2, 0.2)
serverCloseButton.Text = "X"
serverCloseButton.TextColor3 = Color3.new(1, 1, 1)
serverCloseButton.TextSize = 14
serverCloseButton.Font = Enum.Font.GothamBold
serverCloseButton.ZIndex = 12
serverCloseButton.Parent = serverTitleBar

local serverCloseCorner = Instance.new("UICorner")
serverCloseCorner.CornerRadius = UDim.new(0, 4)
serverCloseCorner.Parent = serverCloseButton

-- Main content area
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -20, 1, -45)
contentFrame.Position = UDim2.new(0, 10, 0, 40)
contentFrame.BackgroundTransparency = 1
contentFrame.ZIndex = 11
contentFrame.Parent = serverFrame

-- Description text
local descriptionText = Instance.new("TextLabel")
descriptionText.Size = UDim2.new(1, 0, 0, 40)
descriptionText.Position = UDim2.new(0, 0, 0, 10)
descriptionText.BackgroundTransparency = 1
descriptionText.Text = "Create your own private server"
descriptionText.TextColor3 = Color3.new(0.9, 0.9, 1)
descriptionText.TextSize = 16
descriptionText.Font = Enum.Font.Gotham
descriptionText.TextXAlignment = Enum.TextXAlignment.Center
descriptionText.ZIndex = 11
descriptionText.Parent = contentFrame

-- Main Button for server
local serverButton = Instance.new("TextButton")
serverButton.Name = "AutoPrivateServerButton"
serverButton.Size = UDim2.new(0, 220, 0, 50)
serverButton.Position = UDim2.new(0.5, -110, 0.5, -10)
serverButton.BackgroundColor3 = Color3.new(0.2, 0.5, 0.9)
serverButton.Text = "Auto Private Server"
serverButton.TextColor3 = Color3.new(1, 1, 1)
serverButton.TextSize = 18
serverButton.Font = Enum.Font.GothamBold
serverButton.AutoButtonColor = false
serverButton.ZIndex = 11
serverButton.Parent = contentFrame

local serverButtonCorner = Instance.new("UICorner")
serverButtonCorner.CornerRadius = UDim.new(0, 8)
serverButtonCorner.Parent = serverButton

-- Status Label for server
local serverStatusLabel = Instance.new("TextLabel")
serverStatusLabel.Name = "StatusLabel"
serverStatusLabel.Size = UDim2.new(1, 0, 0, 20)
serverStatusLabel.Position = UDim2.new(0, 0, 1, -25)
serverStatusLabel.BackgroundTransparency = 1
serverStatusLabel.Text = "Ready to create private server"
serverStatusLabel.TextColor3 = Color3.new(0.8, 0.9, 1)
serverStatusLabel.TextSize = 12
serverStatusLabel.Font = Enum.Font.Gotham
serverStatusLabel.TextXAlignment = Enum.TextXAlignment.Center
serverStatusLabel.ZIndex = 11
serverStatusLabel.Parent = contentFrame

-- Access Code Status Label
local accessCodeLabel = Instance.new("TextLabel")
accessCodeLabel.Name = "AccessCodeLabel"
accessCodeLabel.Size = UDim2.new(1, 0, 0, 20)
accessCodeLabel.Position = UDim2.new(0, 0, 0.7, 0)
accessCodeLabel.BackgroundTransparency = 1
accessCodeLabel.Text = ""
accessCodeLabel.TextColor3 = Color3.new(0.8, 0.9, 1)
accessCodeLabel.TextSize = 14
accessCodeLabel.Font = Enum.Font.Gotham
accessCodeLabel.TextXAlignment = Enum.TextXAlignment.Center
accessCodeLabel.ZIndex = 11
accessCodeLabel.Visible = false
accessCodeLabel.Parent = contentFrame

-- BUTTON FUNCTIONALITY
-- Telegram window buttons
linkText.MouseButton1Click:Connect(function()
    if setclipboard then
        setclipboard("https://t.me/RBLX_SCRIPTS_MYANMAR")
    elseif writeclipboard then
        writeclipboard("https://t.me/RBLX_SCRIPTS_MYANMAR")
    end
    linkText.Text = "Copied!"
    task.wait(1.5)
    linkText.Text = "t.me/RBLX_SCRIPTS_MYANMAR"
end)

-- When OK button is pressed, close Script 1 and load Script 2
telegramCloseBtn.MouseButton1Click:Connect(function()
    telegramFrame.Visible = false
    showPrivateServerWindow()
end)

-- Function to show Private Server window after Telegram closes
function showPrivateServerWindow()
    serverFrame.Visible = true
end

-- Server Close Button Function
serverCloseButton.MouseButton1Click:Connect(function()
    serverFrame.Visible = false
end)

-- Server button animations
serverButton.MouseEnter:Connect(function()
    local tween = tweenService:Create(serverButton, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.new(0.3, 0.6, 1.0)
    })
    tween:Play()
end)

serverButton.MouseLeave:Connect(function()
    local tween = tweenService:Create(serverButton, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.new(0.2, 0.5, 0.9)
    })
    tween:Play()
end)

-- Server button click function
serverButton.MouseButton1Click:Connect(function()
    -- Show loading state
    serverStatusLabel.Text = "Creating private server..."
    serverStatusLabel.TextColor3 = Color3.new(1, 0.8, 0.3)
    
    -- Execute the Private Server script
    local success, errorMessage = pcall(function()
        loadPrivateServerScript()
    end)
    
    if success then
        -- Success state
        serverButton.Text = "SERVER CREATED!"
        serverStatusLabel.Text = "Private server created successfully!"
        serverStatusLabel.TextColor3 = Color3.new(0.5, 1, 0.5)
        
        -- Show access code status
        accessCodeLabel.Text = "âœ“ Access code copied to clipboard"
        accessCodeLabel.TextColor3 = Color3.new(0.5, 1, 0.5)
        accessCodeLabel.Visible = true
    else
        -- Error state
        serverButton.Text = "ERROR!"
        serverStatusLabel.Text = "Failed to create server"
        serverStatusLabel.TextColor3 = Color3.new(1, 0.5, 0.5)
        
        -- Show error status
        accessCodeLabel.Text = "âœ— Failed to copy access code"
        accessCodeLabel.TextColor3 = Color3.new(1, 0.5, 0.5)
        accessCodeLabel.Visible = true
    end
    
    -- Reset after 3 seconds
    wait(3)
    resetServerWindow()
end)

-- Reset server window function
function resetServerWindow()
    serverButton.Text = "Auto Private Server"
    serverButton.BackgroundColor3 = Color3.new(0.2, 0.5, 0.9)
    serverStatusLabel.Text = "Ready to create private server"
    serverStatusLabel.TextColor3 = Color3.new(0.8, 0.9, 1)
    accessCodeLabel.Visible = false
end

-- SIMPLIFIED PRIVATE SERVER SCRIPT FUNCTION
function loadPrivateServerScript()
    -- Simple function to generate a random access code
    local function generateRandomCode()
        local chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"
        local code = ""
        for i = 1, 16 do
            local rand = math.random(1, #chars)
            code = code .. chars:sub(rand, rand)
        end
        return code
    end
    
    local accessCode = generateRandomCode()
    
    -- Try to create private server
    local success, result = pcall(function()
        if game:GetService("RobloxReplicatedStorage"):FindFirstChild("ContactListIrisInviteTeleport") then
            game.RobloxReplicatedStorage.ContactListIrisInviteTeleport:FireServer(game.PlaceId, "", accessCode)
        end
    end)
    
    -- Copy access code to clipboard
    if setclipboard then
        setclipboard(accessCode)
    elseif writeclipboard then
        writeclipboard(accessCode)
    end
    
    print("Private server access code: " .. accessCode)
    return true
end